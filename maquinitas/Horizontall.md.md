# Horizontall
## Reco

Primero checkeamos la conectividad con la maquina


```
ping -c 1 10.10.11.105
```
```
PING 10.10.11.105 (10.10.11.105) 56(84) bytes of data.
64 bytes from 10.10.11.105: icmp_seq=1 ttl=63 time=155 ms
--- 10.10.11.105 ping statistics ---
1 packets transmitted, 1 received, 0% packet loss, time 0ms
rtt min/avg/max/mdev = 154.862/154.862/154.862/0.000 ms
```

A la salida del comando, obtenemos tambien el dato llamado  `ttl` , hace referencia a la **cantidad de tiempo o "saltos" que se ha establecido que un paquete debe existir dentro de una red antes de ser descartado por un enrutador**. Con este mismo dato podemos saber tambien que SO tiene la maquina escaneada

* GNU/Linux  →  TTL=64
- Windows  → TTL=128

Como podemos ver la maquina es una `GNU/Linux`.

Utilizamos la herramienta `nmap`  para reconocer los puertos abiertos

`sudo nmap -sS --min-rate 5000 -vvv -Pn -p- -n 10.10.10.140 -oG openports`

- `-sS`  → Realiza un TCP SYN Scan (requiere SUDO)
- `--min-rate 5000`  → Indica que la cantidad mínima de paquetes a emitir por segundo es 5000
- `-vvv`  →  Indica el nivel de verbose
- `-Pn`  →  Omitir el descubrimiento de hosts Indica que no aplique resolución DNS
- `-p-` →  Indica que escanee el total de los puertos(65535)
- `-n` →  No aplicar resolucion DNS
- `-oG openports`  →  Exporta el output  en un archivo en formato grepeable a un archivo llamado openports

Command output:

```
Starting Nmap 7.92 ( https://nmap.org ) at 2022-08-26 22:41 -03
Initiating SYN Stealth Scan at 22:41
Scanning 10.10.11.105 [65535 ports]
Discovered open port 80/tcp on 10.10.11.105
Discovered open port 22/tcp on 10.10.11.105
Completed SYN Stealth Scan at 22:41, 14.20s elapsed (65535 total ports)
Nmap scan report for 10.10.11.105
Host is up, received user-set (0.16s latency).
Scanned at 2022-08-26 22:41:23 -03 for 14s
Not shown: 65533 closed tcp ports (reset)
PORT   STATE SERVICE REASON
22/tcp open  ssh     syn-ack ttl 63
80/tcp open  http    syn-ack ttl 63
```

Continuamos lanzando un escaneo mas profundo utilizando unos scripts basicos de enumeracion para detectar servicio y version para los puertos abiertos.


```
nmap -sCV -v -p22,80 -Pn 10.10.11.105 -oN target
```

- `-sCV` →  la `-s`  de script scan, `C` para lanzar unos scripts basicos de enumeracion y `V` enumera servicio y version del software que esta corriendo en los puertos. Tambien puede usarse `-sC -sV`
- `-oN targeted`  →  Exporta el output en formato nmap a un archivo llamado targeted

Command output:

```
PORT   STATE SERVICE VERSION
22/tcp open  ssh     OpenSSH 7.6p1 Ubuntu 4ubuntu0.5 (Ubuntu Linux; protocol 2.0)
| ssh-hostkey: 
|   2048 ee:77:41:43:d4:82:bd:3e:6e:6e:50:cd:ff:6b:0d:d5 (RSA)
|   256 3a:d5:89:d5:da:95:59:d9:df:01:68:37:ca:d5:10:b0 (ECDSA)
|_  256 4a:00:04:b4:9d:29:e7:af:37:16:1b:4f:80:2d:98:94 (ED25519)
80/tcp open  http    nginx 1.14.0 (Ubuntu)
|_http-favicon: Unknown favicon MD5: 1BA2AE710D927F13D483FD5D1E548C9B
|_http-title: horizontall
| http-methods: 
|_  Supported Methods: GET HEAD
|_http-server-header: nginx/1.14.0 (Ubuntu)
Service Info: OS: Linux; CPE: cpe:/o:linux:linux_kernel
```

Tenemos los servicios y versiones en los puertos:

- 22  →  SSH  `OpenSSH 7.6p1`
- 80  →  HTTP  `nginx 1.14.0`

Tambien podes ver en la salida que el sistema operativo es `Ubuntu`.

Entramos en la pagina web levanta en el puerto 80 y vemos


